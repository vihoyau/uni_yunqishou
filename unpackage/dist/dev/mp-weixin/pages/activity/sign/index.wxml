<view class="sign-wrap"><view class="calendar"><view class="sign-everyday u-flex u-row-between u-p-30"><text class="sign-everyday-title">每日签到</text><view class="sign-num-box">已连续签到<text class="sign-num">{{cuntinueDays}}</text>天</view></view><view class="bar u-flex u-row-center"><view data-event-opts="{{[['tap',[['handleCalendar',[0]]]]]}}" class="previous" bindtap="__e"><button class="u-reset-button bar-btn u-p-r-30"><u-icon vue-id="2e21b9cf-1" name="arrow-left" size="28" color="#c4c4c4" bind:__l="__l"></u-icon></button></view><view class="date">{{(cur_year||'--')+" 年 "+(cur_month||'--')+" 月"}}</view><view data-event-opts="{{[['tap',[['handleCalendar',[1]]]]]}}" class="next" bindtap="__e"><button class="u-reset-button bar-btn u-p-l-30"><u-icon vue-id="2e21b9cf-2" name="arrow-right" size="28" color="#c4c4c4" bind:__l="__l"></u-icon></button></view></view><view class="week u-flex"><block wx:for="{{weeks_ch}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="week-item u-flex u-row-center">{{item}}</view></block></view><view class="myDateTable"><block wx:for="{{days}}" wx:for-item="item" wx:for-index="j" wx:key="j"><view class="dateCell u-flex u-row-center u-col-center"><block wx:if="{{!item.date}}"><view class="cell"><text decode="{{true}}"></text></view></block><block wx:else><view><block wx:if="{{item.is_sign}}"><view class="cell is-sign"><text>{{item.day}}</text></view></block><block wx:else><view class="cell"><text>{{item.day}}</text></view></block></view></block></view></block><view class="u-flex u-col-center u-row-center sign-box"><button class="u-reset-button sign-btn" disabled="{{isPresentMonth||isSign}}" data-event-opts="{{[['tap',[['onSign',['$event']]]]]}}" bindtap="__e">{{isSign?'已签到':'签到'}}</button></view></view></view><u-popup bind:input="__e" vue-id="2e21b9cf-3" mode="center" border-radius="20" value="{{showSign}}" data-event-opts="{{[['^input',[['__set_model',['','showSign','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="sign-modal-box"><view class="modal-head u-flex-col u-col-center"><image class="modal-bg" src="{{$IMG_URL+'/imgs/modal/sign_modal_bg.jpg'}}" mode></image><image class="sign-tag" src="{{$IMG_URL+'/imgs/modal/sign_modal_succeed.png'}}" mode></image><view class="sign-num-box">已连续打卡<text class="sign-num">{{cuntinueDays}}</text>天</view></view><view class="modal-content u-flex-col u-col-center"><view class="sign-success">签到成功</view><view class="sign-score">{{"恭喜您获得"+(score||'0')+"积分"}}</view></view><view class="modal-bottom u-flex u-row-center"><button data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="u-reset-button confirem-btn" bindtap="__e">确认</button></view></view></u-popup><shopro-auth-modal vue-id="2e21b9cf-4" bind:__l="__l"></shopro-auth-modal></view>