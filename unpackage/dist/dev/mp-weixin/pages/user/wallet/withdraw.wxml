<view class="draw-money-wrap"><view class="head-box"><u-navbar vue-id="1acb9b91-1" backIconColor="#fff" borderBottom="{{false}}" background="{{({background:'none'})}}" backTextStyle="{{({color:'#fff',fontSize:'32rpx'})}}" backText="提现" isFixed="{{false}}" bind:__l="__l"></u-navbar><view class="wallet-num-box u-flex u-col-center u-row-between"><view><view class="num-title">可提现金额（元）</view><view class="wallet-num">{{userinfo.money||'0.00'}}</view></view><button data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="u-reset-button log-btn" bindtap="__e">提现记录</button></view></view><view class="draw-card"><view class="card-title">提现金额</view><view class="input-box u-flex u-col-center"><view calss="unit">￥</view><input class="u-flex-1 u-p-l-10" type="number" placeholder-style="{{placeholderStyle}}" placeholder="请输入提现金额" data-event-opts="{{[['input',[['__set_model',['','money','$event',[]]],['onWithdrawInput',['$event']]]]]}}" value="{{money}}" bindinput="__e"/></view><view class="bank-box u-flex u-col-center u-row-between u-m-b-30"><view class="name">提现至</view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="bank-list u-flex" bindtap="__e"><block wx:if="{{!withdrawType}}"><view class="empty-text">请选择提现方式</view></block><block wx:else><view class="sel-box u-flex u-col-center"><image class="item-img" src="{{withdrawList[withdrawType].icon}}" mode></image><view class="item-title u-m-l-20">{{withdrawList[withdrawType].title}}</view></view></block><u-icon vue-id="1acb9b91-2" name="arrow-right" size="28" color="#C4C4C4" bind:__l="__l"></u-icon></view></view><view class="bank-info u-m-b-80"><block wx:if="{{withdrawType}}"><view class="u-flex u-row-between u-col-center"><block wx:if="{{withdrawType==='wechat'}}"><block><view class="bank-info-title">{{''+(!withdrawInfo?'暂无微信授权信息':(withdrawInfo.bank_name||'')+'  ['+(withdrawInfo.card_no||'')+'] '+(withdrawInfo.real_name||''))+''}}</view><block wx:if="{{!withdrawInfo}}"><button data-event-opts="{{[['tap',[['bindThirdOauth']]]]}}" class="u-reset-button bind-btn u-m-l-20" bindtap="__e">绑定</button></block></block></block><block wx:else><block><view class="bank-info-title">{{''+(!withdrawInfo?'暂无'+withdrawList[withdrawType].title+'信息':(withdrawInfo.bank_name||'')+'  ['+(withdrawInfo.card_no||'')+'] '+(withdrawInfo.real_name||''))+''}}</view><button data-event-opts="{{[['tap',[['toBind',['$event']]]]]}}" class="u-reset-button bind-btn u-m-l-20" bindtap="__e">{{withdrawInfo?'修改':'添加'}}</button></block></block></view></block></view><button data-event-opts="{{[['tap',[['withdraw',['$event']]]]]}}" class="u-reset-button save-btn" bindtap="__e">确认提现</button></view><view class="draw-notice"><view class="title">提现说明</view><view class="draw-list">{{"1.单次最低提现 "+ruleInfo.min+" 元，最高提现 "+ruleInfo.max+" 元；"}}</view><view class="draw-list">{{"2.每笔收取提现手续费 "+ruleInfo.service_fee+"%；"}}</view><view class="draw-list">3.提现结果请查收对应渠道服务通知；</view><view class="draw-list">4.如有疑问请及时联系客服。</view></view><block wx:if="{{ruleInfo&&ruleInfo.methods.length}}"><u-popup bind:input="__e" vue-id="1acb9b91-3" mode="bottom" safe-area-inset-bottom="{{true}}" closeable="{{false}}" border-radius="30" value="{{showWithdrawList}}" data-event-opts="{{[['^input',[['__set_model',['','showWithdrawList','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="page_box withdraw-modal"><view class="modal-head u-flex u-row-center u-col-center">选择提现方式</view><view class="content_box modal-content"><u-radio-group bind:input="__e" vue-id="{{('1acb9b91-4')+','+('1acb9b91-3')}}" activeColor="#A36FFF" wrap="{{true}}" value="{{selectedWithdrawType}}" data-event-opts="{{[['^input',[['__set_model',['','selectedWithdrawType','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{item.g0}}"><view class="type-item u-p-x-24 u-p-y-30"><u-radio vue-id="{{('1acb9b91-5-'+index)+','+('1acb9b91-4')}}" shape="circle" iconSize="30" name="{{item.$orig.value}}" labelWidth="100%" bind:__l="__l" vue-slots="{{['default']}}"><view class="item-left u-flex u-col-center u-m-l-30"><image class="item-img" src="{{item.$orig.icon}}" mode></image><view class="item-title u-m-l-20">{{item.$orig.title}}</view></view></u-radio></view></block></block></u-radio-group></view><view class="modal-bottom"><button data-event-opts="{{[['tap',[['onSaveWithdrawType',['$event']]]]]}}" class="u-reset-button modal-save-btn" bindtap="__e">确定</button></view></view></u-popup></block><u-popup vue-id="1acb9b91-6" mode="bottom" safe-area-inset-bottom="{{true}}" closeable="{{false}}" border-radius="30" value="{{showBindForm}}" data-event-opts="{{[['^close',[['initForm']]],['^input',[['__set_model',['','showBindForm','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-box u-p-20"><view class="head-title u-flex u-col-center u-row-center">{{formTitle}}</view><block wx:if="{{withdrawType==='bank'}}"><u-form class="vue-ref" vue-id="{{('1acb9b91-7')+','+('1acb9b91-6')}}" model="{{form.data}}" rules="{{form.bankRules}}" errorType="{{errorType}}" data-ref="bank" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('1acb9b91-8')+','+('1acb9b91-7')}}" labelStyle="{{labelStyle}}" label-width="150" label-position="left" label="持卡人:" prop="real_name" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('1acb9b91-9')+','+('1acb9b91-8')}}" placeholder="请输入持卡人" placeholderStyle="{{placeholderStyle}}" type="text" value="{{form.data.real_name}}" data-event-opts="{{[['^input',[['__set_model',['$0','real_name','$event',[]],['form.data']]]]]}}" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('1acb9b91-10')+','+('1acb9b91-7')}}" labelStyle="{{labelStyle}}" label-width="150" label-position="left" label="开户行:" prop="bank_name" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('1acb9b91-11')+','+('1acb9b91-10')}}" placeholder="请输入开户行" placeholderStyle="{{placeholderStyle}}" type="text" value="{{form.data.bank_name}}" data-event-opts="{{[['^input',[['__set_model',['$0','bank_name','$event',[]],['form.data']]]]]}}" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('1acb9b91-12')+','+('1acb9b91-7')}}" labelStyle="{{labelStyle}}" label-position="left" label="银行卡号:" prop="card_no" label-width="150" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('1acb9b91-13')+','+('1acb9b91-12')}}" placeholder="请输入银行卡号" placeholderStyle="{{placeholderStyle}}" type="number" value="{{form.data.card_no}}" data-event-opts="{{[['^input',[['__set_model',['$0','card_no','$event',[]],['form.data']]]]]}}" bind:__l="__l"></u-input></u-form-item></u-form></block><block wx:if="{{withdrawType==='alipay'}}"><u-form class="vue-ref" vue-id="{{('1acb9b91-14')+','+('1acb9b91-6')}}" model="{{form.data}}" rules="{{form.aliPayRules}}" errorType="{{errorType}}" data-ref="alipay" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('1acb9b91-15')+','+('1acb9b91-14')}}" labelStyle="{{labelStyle}}" label-width="150" label-position="left" label="真实姓名:" prop="real_name" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('1acb9b91-16')+','+('1acb9b91-15')}}" placeholder="请输入真实姓名" placeholderStyle="{{placeholderStyle}}" type="text" value="{{form.data.real_name}}" data-event-opts="{{[['^input',[['__set_model',['$0','real_name','$event',[]],['form.data']]]]]}}" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('1acb9b91-17')+','+('1acb9b91-14')}}" labelStyle="{{labelStyle}}" label-position="left" label="支付宝账号:" prop="card_no" label-width="170" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('1acb9b91-18')+','+('1acb9b91-17')}}" placeholder="请输入支付宝账号" placeholderStyle="{{placeholderStyle}}" type="text" value="{{form.data.card_no}}" data-event-opts="{{[['^input',[['__set_model',['$0','card_no','$event',[]],['form.data']]]]]}}" bind:__l="__l"></u-input></u-form-item></u-form></block><view class="u-flex u-col-center u-row-between"><button data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="u-reset-button form-cancel-btn u-m-y-40" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['saveForm',['$event']]]]]}}" class="u-reset-button form-save-btn u-m-y-40" bindtap="__e">确定</button></view></view></u-popup><u-modal class="vue-ref" vue-id="1acb9b91-19" show-cancel-button="{{true}}" confirm-color="#7063D2" cancel-color="#666666" confirm-text="查看记录" cancel-text="继续提现" content="您的申请提现已提交" title="申请成功" data-ref="uModal" value="{{showModal}}" data-event-opts="{{[['^confirm',[['e3']]],['^input',[['__set_model',['','showModal','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" bind:__l="__l"></u-modal></view>